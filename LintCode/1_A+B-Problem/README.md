Typical bit operation problem.

a ^ b is no-carrier addition (that is, a ^ b is the result of a plus b without carrier operation)
a & b is the a and b's 1's operation.

