Typical bit operation.
Note n & (n - 1) is to remove the righ-most 1 in binary.