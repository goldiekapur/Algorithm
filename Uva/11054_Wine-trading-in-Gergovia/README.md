https://uva.onlinejudge.org/index.php?option=com_onlinejudge&Itemid=8&category=113&page=show_problem&problem=1995

Uva11054强调的是劳动力(不是酒)，劳动力是不能抵消的，都必须加起来(不管是进，还是出)，如果是负，就用绝对值。本人理解，这里劳动力相当于系统的内耗。我们可以把一个村庄或多个村庄一起看成一个村庄，但同时必须加上其系统的内耗。

举例： 
a[5] = {2,3,-4,-2,1} //sum of a[i]=0 
2,3,-4,-2,1所需的劳动力等价于5,-4,-2,1所需的劳动力+2 
5,-4,-2,1所需的劳动力等价于1,-2,1所需的劳动力+5 
1,-2,1所需的劳动力等价于-1,1所需的劳动力+1 
-1,1所需的劳动力等价于0所需的劳动力+1 (绝对值） 
所以总共劳动力为2+5+1+1=9。

代码如下(参考紫书答案, 例题8-5) :

long long WineLabor(long long a[], int len) {
     long long last, ans;

     for (int i=0; i<len; i++) {
         ans += abs(last);
         last += a[i];
     }
     return ans;
}
1
2
3
4
5
6
7
8
9
其ans就是所需累计劳动力，若a[5]={2,3,-4,-2,1}，ans的值分别为0,2,7,8,9。last 就是sum of a[i]，其值为2,5,1,-1,0。 
注意： 
1) n个村庄的劳动力计算为n-1次。我们算ans只需要算到a[n-2]，即倒数第2个元素。因为倒数第2个村庄和倒数第1个村庄之间的劳动力算1次即可。比如说最后2个村庄的a[i]值为[-3,3]，可知需要3个劳动力。 
2) 此题还有一个环形变种 UVA - 11300 Spreading the Wealth。先记下来，以后再做。